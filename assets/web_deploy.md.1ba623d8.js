import{_ as s,c as a,o as n,d as l}from"./app.18b2d180.js";const p="/deploy-end.png",u=JSON.parse('{"title":"å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²","description":"","frontmatter":{},"headers":[{"level":2,"title":"å…³é”®è¯","slug":"å…³é”®è¯","link":"#å…³é”®è¯","children":[]},{"level":2,"title":"å®ç°æ–¹æ¡ˆ","slug":"å®ç°æ–¹æ¡ˆ","link":"#å®ç°æ–¹æ¡ˆ","children":[]},{"level":2,"title":"è‡³æ­¤ï¼ŒåŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚","slug":"è‡³æ­¤-åŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚","link":"#è‡³æ­¤-åŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚","children":[]}],"relativePath":"web/deploy.md"}'),o={name:"web/deploy.md"},e=l(`<h1 id="å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²" tabindex="-1">å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² <a class="header-anchor" href="#å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²" aria-hidden="true">#</a></h1><blockquote><p>èƒŒæ™¯ï¼šä¹‹å‰æè¿°è¿‡webhooksçš„æ–¹å¼è¿›è¡Œå‰ç«¯æ‰“åŒ…éƒ¨ç½²ï¼Œå¦‚æœæ˜¯linuxæœåŠ¡å™¨ï¼Œåˆæ›´æ–¹ä¾¿çš„åŠæ³•å“¦ğŸ«°</p></blockquote><h2 id="å…³é”®è¯" tabindex="-1">å…³é”®è¯ <a class="header-anchor" href="#å…³é”®è¯" aria-hidden="true">#</a></h2><p>deploy-cli-service</p><h2 id="å®ç°æ–¹æ¡ˆ" tabindex="-1">å®ç°æ–¹æ¡ˆ <a class="header-anchor" href="#å®ç°æ–¹æ¡ˆ" aria-hidden="true">#</a></h2><ol><li><p>å®‰è£…æ”¹æ’ä»¶ï¼Œä¸èƒ½ç”¨pnpmï¼Œåªèƒ½ç”¨npm</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm install deploy</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cli</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">service </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g</span></span>
<span class="line"></span></code></pre></div><ul><li>[æ•™ç¨‹]<a href="https://toscode.gitee.com/fuchengwei/deploy-cli-service/" target="_blank" rel="noreferrer">https://toscode.gitee.com/fuchengwei/deploy-cli-service/</a></li></ul></li><li><p>é…ç½®æ–‡ä»¶</p><ul><li>é…ç½®ä¸€ä¸ªdeploy.config.js</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">projectName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress-blog</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">privateKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Users</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">worker/.ssh/id_rsa</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">passphrase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">****</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">cluster</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å¼€å‘ç¯å¢ƒ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm run build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">47.100.238.68</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*****</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">distPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./docs/.vitepress/dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">webDir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/opt/nginx/blog/html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">bakDir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/opt/nginx/blog/logs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">isRemoveRemoteFile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">isRemoveLocalFile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div></li><li><p>é…ç½®è¿è¡Œè„šæœ¬</p><ul><li>åœ¨package.jsoné‡Œé…ç½®éƒ¨ç½²çš„å‘½ä»¤</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress dev docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress build docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">serve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress serve docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">deploy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npx deploy-cli-service deploy --mode dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">echo </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">Error: no test specified</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;"> &amp;&amp; exit 1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></li><li><p>åœ¨å‘½ä»¤è¡Œé‡Œå°±å¯ä»¥æ‰§è¡Œ npm run deploy, å…ˆæ‰“åŒ…ï¼Œåä¼ è¾“distæ–‡ä»¶</p><ul><li><img src="`+p+'"></li></ul></li></ol><h2 id="è‡³æ­¤-åŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚" tabindex="-1">è‡³æ­¤ï¼ŒåŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚ <a class="header-anchor" href="#è‡³æ­¤-åŠè‡ªåŠ¨åŒ–çš„å‰ç«¯éƒ¨ç½²ä¹Ÿå°±å®Œæˆäº†ğŸ˜‚ã€‚" aria-hidden="true">#</a></h2>',7),t=[e];function c(r,D,F,y,i,C){return n(),a("div",null,t)}const d=s(o,[["render",c]]);export{u as __pageData,d as default};
